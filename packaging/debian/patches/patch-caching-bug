Bug fix for 0.0.15, from upstream : http://hg.code.sf.net/p/threedepict/code/rev/7fba7ef21117
--- 3depict-0.0.16.orig/src/backend/filters/ionColour.cpp
+++ 3depict-0.0.16/src/backend/filters/ionColour.cpp
@@ -82,7 +82,7 @@
 	if(cacheOK)
 	{
 		ASSERT(filterOutputs.size());
-		propagateStreams(dataIn,getOut,STREAM_TYPE_IONS,false);
+		propagateStreams(dataIn,getOut,getRefreshBlockMask(),true);
 
 		propagateCache(getOut);
 
--- 3depict-0.0.16.orig/src/backend/filters/rangeFile.cpp
+++ 3depict-0.0.16/src/backend/filters/rangeFile.cpp
@@ -107,7 +107,7 @@
 		//We don't cache anything but our modification
 		//to the ion stream data types. so we propagate
 		//these.
-		propagateStreams(dataIn,getOut,STREAM_TYPE_IONS,false);
+		propagateStreams(dataIn,getOut,getRefreshBlockMask(),true);
 			
 		return 0;
 	}
--- 3depict-0.0.16.orig/src/backend/filters/transform.cpp
+++ 3depict-0.0.16/src/backend/filters/transform.cpp
@@ -189,7 +189,8 @@
 	//use the cached copy if we have it.
 	if(cacheOK)
 	{
-		propagateStreams(dataIn,getOut, STREAM_TYPE_IONS,false);
+		//Propagate non-ion-types into output
+		propagateStreams(dataIn,getOut, getRefreshBlockMask(),true);
 		propagateCache(getOut);
 		return 0;
 	}
